{% extends 'base.html' %}

{% block title %}Produtos - Kong Labs{% endblock %}

{% block content %}
<div class="table-container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <h2 style="color: #DC143C; font-family: 'Bebas Neue', cursive; font-size: 2.5rem; margin: 0;">
            Gerenciar Produtos
        </h2>
        <a href="{{ url_for('criar_produto') }}" class="botao">+ Novo Produto</a>
    </div>
    
    {% if produtos %}
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Preço</th>
                    <th>Descrição</th>
                    <th>Data de Criação</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                {% for produto in produtos %}
                <tr>
                    <td>{{ produto.prod_id }}</td>
                    <td>{{ produto.prod_nome }}</td>
                    <td>R$ {{ "%.2f"|format(produto.prod_preco) }}</td>
                    <td>{{ produto.prod_descricao[:50] }}{% if produto.prod_descricao|length > 50 %}...{% endif %}</td>
                    <td>{{ produto.prod_data_criacao.strftime('%d/%m/%Y %H:%M') }}</td>
                    <td>
                        <a href="{{ url_for('editar_produto', id=produto.prod_id) }}" class="botao botao-secondary" style="margin-right: 0.5rem; padding: 0.5rem 1rem; font-size: 0.9rem;">
                            Editar
                        </a>
                        <a href="{{ url_for('excluir_produto', id=produto.prod_id) }}" 
                           class="botao botao-danger" 
                           style="padding: 0.5rem 1rem; font-size: 0.9rem;"
                           onclick="return confirm('Tem certeza que deseja excluir este produto?')">
                            Excluir
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div style="text-align: center; padding: 3rem; color: #cccccc;">
            <h3 style="margin-bottom: 1rem;">Nenhum produto cadastrado</h3>
            <p style="margin-bottom: 2rem;">Comece criando seu primeiro produto!</p>
            <a href="{{ url_for('criar_produto') }}" class="botao">Criar Primeiro Produto</a>
        </div>
    {% endif %}
</div>

<div style="text-align: center; margin-top: 2rem;">
    <p style="color: #cccccc;">
        Total de produtos: <strong style="color: #DC143C;">{{ produtos|length }}</strong>
    </p>
</div>
{% endblock %}
